<!DOCTYPE html>
<html lang="zh-Hans">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>æŸ³ä¸Šå·</title><meta name="description" content="æŸ³ä¸Šå·çš„åšå®¢"/><link rel="shortcut icon" href="/images/blog/avatar.avif" type="image/avif"/><link rel="stylesheet" href="/styles/highlight.min.css"/><link rel="stylesheet" href="/fonts/MapleMono-NF-CN-Regular/result.css"/><link rel="stylesheet" href="/fonts/MapleMono-NF-CN-Italic/result.css"/><link rel="stylesheet" href="/fonts/MapleMono-NF-CN-Bold/result.css"/><link rel="stylesheet" href="/styles/catppuccin-macchiato.css"/><link rel="stylesheet" href="/iconfonts/iconfont.css"/><link rel="stylesheet" href="/styles/tailwind.css"/><script src="/scripts/highlight.min.js"> </script><script src="/scripts/rust.min.js"> </script><script src="/scripts/nix.min.js"> </script><script src="/scripts/scheme.min.js"> </script><script src="/scripts/htmx.min.js"> </script><script src="/scripts/prefetch.js"> </script><script src="/scripts/custom.js"> </script><meta name="darkreader-lock"></head>
  <body>
    <div id="content" class="flex flex-col mx-4 mb-20 scroll-smooth" lang="zh-Hans">
      <div class="text-2xl sm:text-3xl my-4 w-full text-center">ã€rust ä¸­çš„ "ä¸´æ—¶å€¼ç”Ÿå‘½å‘¨æœŸ" ä¸ "super-let"ã€</div>
      <div class="font-medium w-fit sm:mx-auto flex flex-col border-l-4 pl-2 sm:flex-row sm:border-l-0 sm:pl-0">
        <p>[å†™è‡ª:2025-08-15</p>
        <div class="px-2 hidden sm:inline">â”‚</div>
        <p>ä½œè€…:æŸ³ä¸Šå· ]</p>
      </div>
      <div class="flex flex-col items-center m-4">
        <div class="w-fit mx-auto text-lg font-semibold">æ‘˜è¦</div>
        <div class="w-fit break-keep text-center sm:mx-[25%] *:inline">åšå®¢ <a class="underline underline-offset-5 font-medium" href="https://blog.m-ou.se/super-let/">Rust Temporary Lifetimes and â€œSuper Letâ€</a> çš„ç¿»è¯‘<br>å·²è·å¾—åŸä½œè€…çš„ç¿»è¯‘æˆæƒè®¸å¯<br></div>
      </div>
      <div class="flex flex-col my-10 w-fit border-2 border-slate-500">
        <p><span class="text-2xl">ç›®å½•:</span></p>
        <div class="w-fit pr-2 my-2">
          <div class="leading-5"><span class="pl-2"><span class="font-bold text-sm">â”Œâ”€â–º</span><a class="text-sm hover:text-sky-500 hover:font-semibold hover:underline underline-offset-5" href="#lin-shi-zhi">ä¸´æ—¶å€¼</a></span></div>
          <div class="leading-5"><span class="pl-2"><span class="font-bold text-sm">â”œâ”€â”€â”€</span><a class="text-sm hover:text-sky-500 hover:font-semibold hover:underline underline-offset-5" href="#zai-let-zhong">åœ¨ let ä¸­</a></span></div>
          <div class="leading-5"><span class="pl-2"><span class="font-bold text-sm">â”œâ”€â”€â”€</span><a class="text-sm hover:text-sky-500 hover:font-semibold hover:underline underline-offset-5" href="#zai-qian-tao-diao-yong-zhong">åœ¨åµŒå¥—è°ƒç”¨ä¸­</a></span></div>
          <div class="leading-5"><span class="pl-2"><span class="font-bold text-sm">â”œâ”€â”€â”€</span><a class="text-sm hover:text-sky-500 hover:font-semibold hover:underline underline-offset-5" href="#zai-if-zhong">åœ¨ if ä¸­</a></span></div>
          <div class="leading-5"><span class="pl-2"><span class="font-bold text-sm">â”œâ”€â”€â”€</span><a class="text-sm hover:text-sky-500 hover:font-semibold hover:underline underline-offset-5" href="#zai-if-let-zhong">åœ¨ if-let ä¸­</a></span></div>
          <div class="leading-5"><span class="pl-2"><span class="font-bold text-sm">â”œâ”€â–º</span><a class="text-sm hover:text-sky-500 hover:font-semibold hover:underline underline-offset-5" href="#sheng-ming-zhou-qi-yan-chang">ç”Ÿå‘½å‘¨æœŸå»¶é•¿</a></span></div>
          <div class="leading-5"><span class="pl-2"><span class="font-bold text-sm">â”œâ”€â”€â”€</span><a class="text-sm hover:text-sky-500 hover:font-semibold hover:underline underline-offset-5" href="#chang-liang-ti-sheng">å¸¸é‡æå‡</a></span></div>
          <div class="leading-5"><span class="pl-2"><span class="font-bold text-sm">â”œâ”€â”€â”€</span><a class="text-sm hover:text-sky-500 hover:font-semibold hover:underline underline-offset-5" href="#kuai-ji-bie-de-yan-chang">å—çº§åˆ«çš„å»¶é•¿</a></span></div>
          <div class="leading-5"><span class="pl-2"><span class="font-bold text-sm">â”œâ”€â”€â”€</span><a class="text-sm hover:text-sky-500 hover:font-semibold hover:underline underline-offset-5" href="#ju-xian-xing">å±€é™æ€§</a></span></div>
          <div class="leading-5"><span class="pl-2"><span class="font-bold text-sm">â”œâ”€â–º</span><a class="text-sm hover:text-sky-500 hover:font-semibold hover:underline underline-offset-5" href="#hong">å®</a></span></div>
          <div class="leading-5"><span class="pl-2"><span class="font-bold text-sm">â”œâ”€â”€â”€</span><a class="text-sm hover:text-sky-500 hover:font-semibold hover:underline underline-offset-5" href="#format_args!">format_args!</a></span></div>
          <div class="leading-5"><span class="pl-2"><span class="font-bold text-sm">â”œâ”€â”€â”€</span><a class="text-sm hover:text-sky-500 hover:font-semibold hover:underline underline-offset-5" href="#pin!">pin!</a></span></div>
          <div class="leading-5"><span class="pl-2"><span class="font-bold text-sm">â”œâ”€â–º</span><a class="text-sm hover:text-sky-500 hover:font-semibold hover:underline underline-offset-5" href="#super-let">super-let</a></span></div>
          <div class="leading-5"><span class="pl-2"><span class="font-bold text-sm">â”œâ”€â”€â”€</span><a class="text-sm hover:text-sky-500 hover:font-semibold hover:underline underline-offset-5" href="#yong-hu-you-shan-du">ç”¨æˆ·å‹å–„åº¦</a></span></div>
          <div class="leading-5"><span class="pl-2"><span class="font-bold text-sm">â”œâ”€â”€â”€</span><a class="text-sm hover:text-sky-500 hover:font-semibold hover:underline underline-offset-5" href="#qian-zai-kuo-zhan-fang-xiang">æ½œåœ¨æ‰©å±•æ–¹å‘</a></span></div>
          <div class="leading-5"><span class="pl-2"><span class="font-bold text-sm">â”œâ”€â–º</span><a class="text-sm hover:text-sky-500 hover:font-semibold hover:underline underline-offset-5" href="#2024-rfc">2024-RFC</a></span></div>
          <div class="leading-5"><span class="pl-2"><span class="font-bold text-sm">â””â”€â–º</span><a class="text-sm hover:text-sky-500 hover:font-semibold hover:underline underline-offset-5" href="#fan-kui">åé¦ˆ</a></span></div>
        </div>
      </div>
      <blockquote class="border-l-4 border-solid border-gray-300 mx-1 my-3 px-4 opacity-60">éå¸¸æ„Ÿè°¢ <em>Mara Bos</em>(rust-leadership å§”å‘˜ä¼šçš„æˆå‘˜ä¹‹ä¸€) çš„ç¿»è¯‘æˆæƒ, ä¹‹ååº”è¯¥è¿˜ä¼šå†ç¿»å‡ ç¯‡<span style="display: inline-block"><del>(å’³å’³å¯èƒ½å§)</del></span><br>æœ¬æ–‡ä¸­æ‰€è¿°çš„ <em>super-let</em>, rust ç¼–è¯‘å™¨å·²ç»åœ¨å†…éƒ¨å¼€å§‹ä½¿ç”¨äº†, ä½¿å¾—æ¯”å¦‚ <code class="font-semibold text-[#aa8bd5]"><code>format-args!</code></code> ç°åœ¨èƒ½è¢« let ç»‘å®š<br>å¤œé—´ç‰ˆæœ¬ç°åœ¨å¯é€šè¿‡ <code class="font-semibold text-[#aa8bd5]"><code>#![feature(super_let)]</code></code> ä½¿ç”¨è¯¥ç‰¹æ€§, æ›´å¤šè¯¦æƒ…è¯·å…³æ³¨ <a class="underline underline-offset-5 font-medium" href="https://github.com/rust-lang/rust/issues/139076">Tracking Issue for super-let</a> å–µÂ <br>å€¼å¾—ä¸€æçš„æ˜¯ç›¸å…³ PR ä¹Ÿæ˜¯ <em>Mara Bos</em> å§å§å†™çš„ :)<br></blockquote>
      <p><br>rust ä¸­ä¸´æ—¶å˜é‡çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä¸ªå¤æ‚å´å¸¸è¢«å¿½ç•¥çš„è¯é¢˜<br>ç®€å•åœºæ™¯ä¸‹, rust ä¼šç²¾å‡†æ§åˆ¶ä¸´æ—¶å€¼çš„å­˜ç»­å‘¨æœŸ, ä½¿å¾—å¼€å‘è€…æ— éœ€åˆ»æ„åœ¨ä¹å®ƒä»¬<br>ç„¶å¹¶åµ! ç°å®ä¸­å­˜åœ¨è¯¸å¤šæ²¡æ³•ç«‹åˆ»ç¬¦åˆé¢„æœŸçš„æƒ…å†µ<br><br>åœ¨æœ¬æ–‡ä¸­, æˆ‘ä»¬å°†(é‡æ–°)å‘ç°å…³äºä¸´æ—¶å€¼ç”Ÿå‘½å‘¨æœŸçš„è§„åˆ™, å›é¡¾ä¸´æ—¶å€¼ç”Ÿå‘½å‘¨æœŸå»¶é•¿çš„ä¾‹å­, æ¢ç´¢ä¸€ç§æ–°çš„è¯­è¨€æ„æƒ³: <code class="font-semibold text-[#aa8bd5]"><code>super-let</code></code>, ä»¥æä¾›æ›´å¤šæ›´å¼ºçš„æ§åˆ¶æƒ<br></p>
      <hr class="border-2 border-dashed my-10">
      <h1 class="flex items-center w-fit my-6" id="lin-shi-zhi"><span class="text-2xl mr-2 text-cyan-500">ğŸ”—</span> <a class="text-4xl hover:underline underline-offset-8" href="#lin-shi-zhi">ä¸´æ—¶å€¼</a></h1>
      <p>ä¸‹é¢æ˜¯ä¸€æ¡ rust è¯­å¥, ä½¿ç”¨äº†ä¸€ä¸ª <code class="font-semibold text-[#aa8bd5]"><code>String</code></code> ç±»å‹çš„ <em>ä¸´æ—¶å€¼(temporary)</em>:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">f(&amp;String::from('ğŸ¦€'));</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>è¯¥ä¸´æ—¶å­—ç¬¦ä¸²èƒ½æ´»å¤šä¹…? å¦‚æœä»Šå¤©æ¢ä½œæˆ‘ä»¬æ¥è®¾è®¡ rust, åŸºæœ¬ä¸Šå¯ä»¥åœ¨ä¸¤ä¸ªé€‰é¡¹é—´è¿›è¡Œé€‰æ‹©:<br></p>
      <ol class="list-decimal ml-9">
        <li>åœ¨è°ƒç”¨ <code class="font-semibold text-[#aa8bd5]"><code>f</code></code> å‰, å­—ç¬¦ä¸²ä¼šè¢«ç«‹åˆ» <code class="font-semibold text-[#aa8bd5]"><code>Drop</code></code></li>
        <li>åªæœ‰åœ¨è°ƒç”¨ <code class="font-semibold text-[#aa8bd5]"><code>f</code></code> å, å­—ç¬¦ä¸²æ‰è¢« <code class="font-semibold text-[#aa8bd5]"><code>Drop</code></code></li>
      </ol>
      <p><br>è‹¥æˆ‘ä»¬é€‰æ‹©å‰è€…, ä¸Šé¢çš„è¯­å¥å°†å¯¼è‡´ <em>å€Ÿç”¨æ£€æŸ¥å™¨(borrow checker)</em> æŠ¥é”™, å› ä¸º <code class="font-semibold text-[#aa8bd5]"><code>f</code></code> ä¸è¯¥å€Ÿç”¨å·²ç»æ¶ˆå¤±çš„ç©æ„<br>å› æ­¤, rust é€‰æ‹©äº†åè€…: å­—ç¬¦ä¸²å…ˆè¢«åˆ†é…, ç„¶åå°†å…¶å¼•ç”¨ä¼ é€’ç»™ <code class="font-semibold text-[#aa8bd5]"><code>f</code></code>, å‡½æ•°è¿”å›åæ‰åˆ é™¤è¯¥ä¸´æ—¶å€¼<br></p>
      <h2 class="flex items-center w-fit my-6" id="zai-let-zhong"><span class="text-2xl m-2 text-cyan-500">></span> <a class="text-2xl hover:underline underline-offset-8" href="#zai-let-zhong">åœ¨ let ä¸­</a></h2>
      <p>ç¨å¾®éš¾ç‚¹:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let a = f(&amp;String::from('ğŸ¦€'));
// ......
g(&amp;a);</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>å†æ¥ä¸€é, è¯¥ä¸´æ—¶å­—ç¬¦ä¸²èƒ½æ´»å¤šä¹…?<br></p>
      <ol class="list-decimal ml-9">
        <li>å­—ç¬¦ä¸²è¢« <code class="font-semibold text-[#aa8bd5]"><code>let</code></code> è¯­å¥çš„æœ«å°¾è¢« <code class="font-semibold text-[#aa8bd5]"><code>Drop</code></code>: è¿™ä¸ªæ—¶åˆ»åœ¨ <code class="font-semibold text-[#aa8bd5]"><code>f</code></code> è¿”å›å, ä½†åœ¨è°ƒç”¨ <code class="font-semibold text-[#aa8bd5]"><code>g</code></code> å‰</li>
        <li>å­—ç¬¦ä¸²ä¸ <code class="font-semibold text-[#aa8bd5]"><code>a</code></code> åŒæ—¶è¢« <code class="font-semibold text-[#aa8bd5]"><code>Drop</code></code>: è¿™ä¸ªæ—¶åˆ»åœ¨è°ƒç”¨ <code class="font-semibold text-[#aa8bd5]"><code>g</code></code> å</li>
      </ol>
      <p><br>è¿™æ¬¡, é€‰é¡¹1 å¯èƒ½ä¼šèµ·ä½œç”¨, ä½†è¿™å–å†³äº <code class="font-semibold text-[#aa8bd5]"><code>f</code></code> çš„ç­¾å<br>è‹¥ <code class="font-semibold text-[#aa8bd5]"><code>f</code></code> è¢«å®šä¹‰ä¸º <code class="font-semibold text-[#aa8bd5]"><code>fn fï¼ˆsï¼š &amp;strï¼‰ -> usize</code></code>(å¦‚ <code class="font-semibold text-[#aa8bd5]"><code>str::len</code></code>), é‚£ä¹ˆ â€œç«‹åˆ» <code class="font-semibold text-[#aa8bd5]"><code>Drop</code></code> æ‰ <code class="font-semibold text-[#aa8bd5]"><code>let</code></code> è¯­å¥åçš„å­—ç¬¦ä¸²â€ æ˜¯å®Œå…¨å¯ä»¥çš„<br>ä½†è‹¥ <code class="font-semibold text-[#aa8bd5]"><code>f</code></code> è¢«å®šä¹‰ä¸º <code class="font-semibold text-[#aa8bd5]"><code>fn fï¼ˆsï¼š &amp;strï¼‰ -> &amp;[u8]</code></code>(å¦‚ <code class="font-semibold text-[#aa8bd5]"><code>str::as_bytes</code></code>), é‚£ä¹ˆ <code class="font-semibold text-[#aa8bd5]"><code>a</code></code> å°†å€Ÿç”¨ä¸´æ—¶å€¼, å½“æˆ‘ä»¬è®© <code class="font-semibold text-[#aa8bd5]"><code>a</code></code> æ´»çš„æ¯”å…¶æ›´é•¿, å°±ä¼šé‡åˆ°å€Ÿç”¨æ£€æŸ¥é”™è¯¯<br><br>é‚£ä¹ˆé€‰æ‹©ç¬¬ 2 ç§æ–¹æ¡ˆå‘¢? å…¶åœ¨ä¸Šé¢ä¸¤ç§æƒ…å†µä¸‹éƒ½èƒ½æ­£å¸¸ç¼–è¯‘, ä½†è¿™å¯èƒ½ä¼šå¯¼è‡´ä¸å¿…è¦åœ°å»¶é•¿äº†ä¸´æ—¶å€¼çš„ç”Ÿå‘½å‘¨æœŸ<br>è¿™å¯èƒ½å¯¼è‡´ â€œèµ„æºæµªè´¹â€ æˆ– â€œå¼•å‘éš¾ä»¥å¯Ÿè§‰çš„ç¼ºé™·â€, ä¾‹å¦‚ <code class="font-semibold text-[#aa8bd5]"><code>MutexGuard</code></code> çš„é‡Šæ”¾æ—¶æœºæ™šäºé¢„æœŸæ—¶ä¼šäº§ç”Ÿæ­»é”<br><br>æˆ‘ä»¬å¯èƒ½æƒ³é€‰æ‹©ç¬¬ä¸‰ç§æ–¹æ¡ˆ: è®©æ—¶æœºä¾èµ–äº <code class="font-semibold text-[#aa8bd5]"><code>f</code></code> çš„ç­¾å:<br>ç„¶è€Œ, rust çš„å€Ÿç”¨æ£€æŸ¥å™¨ä»…æ‰§è¡Œæ£€æŸ¥, è€Œä¸ä¼šå½±å“ä»£ç çš„è¡Œä¸º, è¯¥ç‰¹æ€§å‡ºäºå„ç§åŸå› æ˜¾å¾—éå¸¸é‡è¦ä¸”æœ‰ç”¨<br>ä¸¾ä¾‹è€Œè¨€, å°† <code class="font-semibold text-[#aa8bd5]"><code>fn f(s: &amp;str) -> &amp;[u8]</code></code>(è¿”å›å€¼å€Ÿç”¨äº†å‚æ•°) æ”¹ä¸º <code class="font-semibold text-[#aa8bd5]"><code>fn f(s: &amp;str) -> &amp;'static [u8]</code></code>(è¿”å›å€¼ä¸å€Ÿç”¨å‚æ•°) æ—¶, <em>è°ƒç”¨å¤„(call site)</em> çš„è¡Œä¸ºä¸ä¼šæ”¹å˜<br>å—¯, æ¯”å¦‚ä¸´æ—¶å€¼è¢« <code class="font-semibold text-[#aa8bd5]"><code>Drop</code></code> çš„æ—¶æœº! å…¶ä¸ä¼šç”±äºç­¾åå˜åŒ–è€Œè·Ÿç€å‘ç”Ÿæ”¹å˜!<br><br>å› æ­¤, rust åœ¨äºŒé€‰ä¸€ä¸­é€‰æ‹©äº†å‰è€…: åœ¨ <code class="font-semibold text-[#aa8bd5]"><code>let</code></code> è¯­å¥ç»“æŸæ—¶ <code class="font-semibold text-[#aa8bd5]"><code>Drop</code></code> ä¸´æ—¶å€¼<br>è‹¥æƒ³å»¶é•¿ä¸Šè¿°ä¾‹å­ä¸­å­—ç¬¦ä¸²çš„ç”Ÿå‘½å‘¨æœŸ, æ‰‹åŠ¨ç§»åŠ¨è‡³å•ç‹¬çš„ <code class="font-semibold text-[#aa8bd5]"><code>let</code></code> è¯­å¥ä¹Ÿå¾ˆç®€å•:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let s = String::from('ğŸ¦€'); // Moved to its own `let` to give it a longer lifetime.
let a = f(&amp;s);
// ......
g(&amp;a);</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <h2 class="flex items-center w-fit my-6" id="zai-qian-tao-diao-yong-zhong"><span class="text-2xl m-2 text-cyan-500">></span> <a class="text-2xl hover:underline underline-offset-8" href="#zai-qian-tao-diao-yong-zhong">åœ¨åµŒå¥—è°ƒç”¨ä¸­</a></h2>
      <p>Okay, ç»§ç»­!<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">g(f(&amp;String::from('ğŸ¦€')));</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>è¿˜æ˜¯æœ‰ä¸¤ä¸ªé€‰é¡¹:<br></p>
      <ol class="list-decimal ml-9">
        <li>å­—ç¬¦ä¸²è¢« <code class="font-semibold text-[#aa8bd5]"><code>Drop</code></code> çš„æ—¶æœºåœ¨ <code class="font-semibold text-[#aa8bd5]"><code>f</code></code> è¢«è°ƒç”¨å, ä½†åœ¨ <code class="font-semibold text-[#aa8bd5]"><code>g</code></code> è¢«è°ƒç”¨å‰</li>
        <li>å­—ç¬¦ä¸²è¢« <code class="font-semibold text-[#aa8bd5]"><code>Drop</code></code> çš„æ—¶æœºåœ¨è¯¥è¯­å¥æœ«å°¾, ä½†åœ¨ <code class="font-semibold text-[#aa8bd5]"><code>g</code></code> è¢«è°ƒç”¨å</li>
      </ol>
      <p><br>è¯¥ä»£ç æ®µä¸å…ˆå‰ä¸€ä¸ªå‡ ä¹ç›¸åŒ: å°†ä¸´æ—¶å€¼çš„å¼•ç”¨ä¼ é€’ç»™ <code class="font-semibold text-[#aa8bd5]"><code>f</code></code>, å¹¶å°† <code class="font-semibold text-[#aa8bd5]"><code>f</code></code> çš„è¿”å›å€¼ä¼ é€’ç»™ <code class="font-semibold text-[#aa8bd5]"><code>g</code></code><br>ä¸è¿‡è¿™æ¬¡, æ•´æ®µæ“ä½œéƒ½ä»¥å•ä¸ªè¯­å¥çš„å½¢å¼è¡¨è¾¾, ä½¿ç”¨äº†åµŒå¥—çš„è°ƒç”¨è¡¨è¾¾å¼<br><br>æ ¹æ® <code class="font-semibold text-[#aa8bd5]"><code>f</code></code> çš„ç­¾å, é€‰é¡¹1 å¯èƒ½æœ‰æ•ˆä¹Ÿå¯èƒ½æ— æ•ˆ, å¹¶ä¸” é€‰é¡¹2 å¯èƒ½ä¼šåƒå…ˆå‰æ‰€è¿°, ä½¿å¾—ä¸´æ—¶å€¼çš„ç”Ÿå‘½å‘¨æœŸè¢«ä¸å¿…è¦çš„å»¶é•¿<br>ç„¶è€Œè¿™ä¸€æ¬¡, é€‰é¡¹1 ä¼šç»™ç¨‹åºå‘˜å¸¦æ¥æ›´å¤šçš„ â€œæƒŠå–œ/å“â€, å³ä½¿æ˜¯åƒ <code class="font-semibold text-[#aa8bd5]"><code>String::from('ğŸ¦€').as_bytes().contains(&amp;0x80)</code></code> çš„ç®€å•ä»£ç ä¹Ÿä¸ä¼šé€šè¿‡ç¼–è¯‘<br>è‹¥é€‰æ‹©é€‰é¡¹1, ä¸Šé¢çš„å­—ç¬¦ä¸²è¢« <code class="font-semibold text-[#aa8bd5]"><code>Drop</code></code> çš„æ—¶æœº, å°†ä½äº <code class="font-semibold text-[#aa8bd5]"><code>as_bytes (f)</code></code> ä¹‹å, åœ¨ <code class="font-semibold text-[#aa8bd5]"><code>contains(g)</code></code> è°ƒç”¨ä¹‹å‰<br><br>æˆ‘ä»¬ä¹Ÿå¯ä»¥è®¤ä¸º, æš‚æ—¶ä¿ç•™è¿™äº›ä¸´æ—¶å˜é‡ç¨ä¹…ç‚¹çš„ä»£ä»·æ˜¯å¯ä»¥æ¥å—çš„, æ¯•ç«Ÿå®ƒä»¬ä»ä¼šåœ¨è¯­å¥ç»“æŸæ—¶è¢« <code class="font-semibold text-[#aa8bd5]"><code>Drop</code></code> æ‰<br>å› æ­¤, rust åœ¨åµŒå¥—è°ƒç”¨çš„åœºæ™¯ä¸­é‡‡ç”¨äº†åè€…: æ— è®º <code class="font-semibold text-[#aa8bd5]"><code>f</code></code> çš„ç­¾åå¦‚ä½•, ä¸´æ—¶å€¼éƒ½å°†ä¿æŒå­˜æ´», ç›´åˆ°è¯­å¥æœ«å°¾, ç›´åˆ° <code class="font-semibold text-[#aa8bd5]"><code>g</code></code> è¢«è°ƒç”¨ä¹‹å<br></p>
      <h2 class="flex items-center w-fit my-6" id="zai-if-zhong"><span class="text-2xl m-2 text-cyan-500">></span> <a class="text-2xl hover:underline underline-offset-8" href="#zai-if-zhong">åœ¨ if ä¸­</a></h2>
      <p>ç°åœ¨è®©æˆ‘ä»¬ç»§ç»­è®¨è®ºä¸€ä¸ªç®€å•çš„ <code class="font-semibold text-[#aa8bd5]"><code>if</code></code> è¯­å¥:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">if f(&amp;String::from('ğŸ¦€')) {
    // ......
}</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>Again, ä½•æ—¶å°†å­—ç¬¦ä¸² <code class="font-semibold text-[#aa8bd5]"><code>Drop</code></code> æ‰?<br></p>
      <ol class="list-decimal ml-9">
        <li>åœ¨ <code class="font-semibold text-[#aa8bd5]"><code>if</code></code> ä¸­çš„æ¡ä»¶è¢«æ±‚å€¼å, ä½†åœ¨æ‰§è¡Œå…¶ä¸»ä½“å‰(å³ <code class="font-semibold text-[#aa8bd5]"><code>{</code></code> å‰)</li>
        <li>åœ¨æ‰§è¡Œå…¶ä¸»ä½“å(å³ <code class="font-semibold text-[#aa8bd5]"><code>}</code></code> å)</li>
      </ol>
      <p><br>æˆ‘ä»¬æ²¡æœ‰ç†ç”±è®©ä¸´æ—¶å˜é‡åœ¨ <code class="font-semibold text-[#aa8bd5]"><code>if</code></code> çš„ä¸»ä½“ä¸­ä¹Ÿå­˜æ´», æ¡ä»¶ä¼šäº§ç”Ÿä¸€ä¸ª <code class="font-semibold text-[#aa8bd5]"><code>bool</code></code> å€¼(<code class="font-semibold text-[#aa8bd5]"><code>true</code></code>/<code class="font-semibold text-[#aa8bd5]"><code>false</code></code>)<br>æ ¹æ® <code class="font-semibold text-[#aa8bd5]"><code>bool</code></code> çš„å®šä¹‰, å®ƒä¸ä¼šå€Ÿç”¨ä»»ä½•ä¸œè¥¿, å› æ­¤ rust é€‰æ‹©äº†å‰è€…!<br><br>ä¸‹é¢å…³äº <code class="font-semibold text-[#aa8bd5]"><code>Mutex::lock</code></code> çš„ä¾‹å­è›®æœ‰ç”¨çš„, å…¶è¿”å›ä¸€ä¸ªä¸´æ—¶å€¼ <code class="font-semibold text-[#aa8bd5]"><code>MutexGuard</code></code>, è¯¥ä¸´æ—¶å€¼è¢« <code class="font-semibold text-[#aa8bd5]"><code>Drop</code></code> æ—¶ä¼šè¿›è¡Œ <code class="font-semibold text-[#aa8bd5]"><code>unlock</code></code> æ“ä½œ:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">fn example(m: &amp;Mutex&lt;String>) {
    if m.lock().unwrap().is_empty() {
        println!("the string is empty!");
    }
}</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>è¿™é‡Œ, ä¸´æ—¶å€¼ <code class="font-semibold text-[#aa8bd5]"><code>MutexGuard</code></code> æ¥è‡ªäº <code class="font-semibold text-[#aa8bd5]"><code>m.lock().unwrap()</code></code>, åœ¨ <code class="font-semibold text-[#aa8bd5]"><code>.is_empty()</code></code> åç«‹åˆ»è¢« <code class="font-semibold text-[#aa8bd5]"><code>Drop</code></code> æ‰<br>å¦‚æ­¤å¦‚æ­¤, <code class="font-semibold text-[#aa8bd5]"><code>Mutex</code></code> åœ¨ <code class="font-semibold text-[#aa8bd5]"><code>println!</code></code> æœŸé—´ä¾¿ä¸ä¼šä¿æŒä¸å¿…è¦çš„é”å®šçŠ¶æ€<br></p>
      <h2 class="flex items-center w-fit my-6" id="zai-if-let-zhong"><span class="text-2xl m-2 text-cyan-500">></span> <a class="text-2xl hover:underline underline-offset-8" href="#zai-if-let-zhong">åœ¨ if-let ä¸­</a></h2>
      <p>åœ¨ <code class="font-semibold text-[#aa8bd5]"><code>if-let</code></code>(ä¸ <code class="font-semibold text-[#aa8bd5]"><code>match</code></code>) ä¸­çš„æƒ…æ™¯åˆæœ‰æ‰€ä¸åŒ, å› ä¸ºæˆ‘ä»¬çš„è¡¨è¾¾å¼ä¸ä¸€å®šæ˜¯ <code class="font-semibold text-[#aa8bd5]"><code>bool</code></code> ç±»å‹<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">if let â€¦ = f(&amp;String::from('ğŸ¦€')) {
    // ......
}</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>ä»ç„¶æœ‰ä¸¤ä¸ªé€‰é¡¹:<br></p>
      <ol class="list-decimal ml-9">
        <li>å­—ç¬¦ä¸²è¢« <code class="font-semibold text-[#aa8bd5]"><code>Drop</code></code> çš„æ—¶æœºä½äºæ¨¡å¼åŒ¹é…ä¹‹å, <code class="font-semibold text-[#aa8bd5]"><code>if-let</code></code> çš„ä¸»ä½“ä¹‹å‰(å³ <code class="font-semibold text-[#aa8bd5]"><code>{</code></code> å‰)</li>
        <li>å­—ç¬¦ä¸²è¢« <code class="font-semibold text-[#aa8bd5]"><code>Drop</code></code> çš„æ—¶æœºä½äº <code class="font-semibold text-[#aa8bd5]"><code>if-let</code></code> çš„ä¸»ä½“å(å³ <code class="font-semibold text-[#aa8bd5]"><code>}</code></code> å)</li>
      </ol>
      <p><br>è¿™æ¬¡æˆ‘ä»¬æœ‰ç†ç”±é€‰æ‹©åè€…è€Œéå‰è€…, <code class="font-semibold text-[#aa8bd5]"><code>if-let</code></code>/<code class="font-semibold text-[#aa8bd5]"><code>match</code></code> çš„åŒ¹é…åˆ†æ”¯ä¸­å€Ÿç”¨æŸäº›å€¼æ˜¯å¾ˆå¸¸è§çš„<br>å› æ­¤åœ¨è¯¥æƒ…æ™¯ä¸­, rust é€‰æ‹©äº†åè€…<br><br>æ¯”å¦‚, å½“æˆ‘ä»¬æœ‰ä¸€ä¸ªç±»å‹ä¸º <code class="font-semibold text-[#aa8bd5]"><code>Mutex&lt;Vec&lt;T>></code></code> çš„å˜é‡ <code class="font-semibold text-[#aa8bd5]"><code>vec</code></code>, ä¸‹é¢çš„ä»£ç å¯ä»¥é€šè¿‡ç¼–è¯‘:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">if let Some(x) = vec.lock().unwrap().first() {
    // The mutex is still locked here. :)
    // This is necessary, because we're borrowing `x` from the `Vec`. (`x` is a `&amp;T`)
    println!("first item in vec: {x}");
}</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>æˆ‘ä»¬é€šè¿‡ <code class="font-semibold text-[#aa8bd5]"><code>m.lock().unwrap()</code></code> å¾—åˆ°ä¸€ä¸ªä¸´æ—¶å€¼ <code class="font-semibold text-[#aa8bd5]"><code>MutexGuard</code></code>, éšåä½¿ç”¨ <code class="font-semibold text-[#aa8bd5]"><code>.first()</code></code> å€Ÿç”¨ç¬¬ä¸€ä¸ªå…ƒç´ <br>è¯¥å€Ÿç”¨å°†åœ¨ <code class="font-semibold text-[#aa8bd5]"><code>if-let</code></code> çš„æ•´ä¸ªä¸»ä½“å†…æŒç»­å­˜æ´», æ¯•ç«Ÿ <code class="font-semibold text-[#aa8bd5]"><code>MutexGuard</code></code> ä»…åœ¨æœ€åçš„ <code class="font-semibold text-[#aa8bd5]"><code>}</code></code> å¤„æ‰è¢« <code class="font-semibold text-[#aa8bd5]"><code>Drop</code></code><br><br>ç„¶è€Œä¹Ÿå­˜åœ¨æˆ‘ä»¬ä¸æƒ³è¦çš„æƒ…å†µ, æ¯”å¦‚æˆ‘ä»¬ä½¿ç”¨ <code class="font-semibold text-[#aa8bd5]"><code>pop</code></code> è€Œé <code class="font-semibold text-[#aa8bd5]"><code>first</code></code>, å…¶è¿”å›ä¸€ä¸ªå€¼è€Œä¸æ˜¯å¼•ç”¨<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">if let Some(x) = vec.lock().unwrap().pop() {
    // The mutex is still locked here. :(
    // This is unnecessary, because we don't borrow anything from the `Vec`. (`x` is a `T`)
    println!("popped item from the vec: {x}");
}</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>è¿™å‡ºäººæ„æ–™, å¹¶å¯¼è‡´éš¾ä»¥å¯Ÿè§‰çš„é”™è¯¯æˆ–æ€§èƒ½ä¸‹é™<br>æˆ–è®¸è¿™è¡¨æ˜ rust åœ¨æ­¤å¤„çš„é€‰æ‹©å¹¶éæ­£ç¡®, æœªæ¥ç‰ˆæœ¬ä¸­ä¹Ÿå¯èƒ½ä¼šå¯¹æ­¤å¤„äº§ç”Ÿæ˜¯å¦è¦è¿›è¡Œä¿®æ”¹çš„äº‰è®®<br>å…³äºå¦‚ä½•è°ƒæ•´è¿™äº›è§„åˆ™çš„å…·ä½“æ€è·¯, å¯å‚é˜… <em>Niko</em> å…³äºç›¸å…³ä¸»é¢˜æ’°å†™çš„åšå®¢æ–‡ç« : <a class="underline underline-offset-5 font-medium" href="https://smallcultfollowing.com/babysteps/blog/2023/03/15/temporary-lifetimes/">ä¼ é€é—¨</a><br><br>ç›®å‰è§£å†³è¯¥é—®é¢˜çš„æ–¹å¼æ˜¯ä½¿ç”¨å•ç‹¬çš„ <code class="font-semibold text-[#aa8bd5]"><code>let</code></code> è¯­å¥, ä»¥é™åˆ¶ä¸´æ—¶å€¼çš„ç”Ÿå‘½å‘¨æœŸ:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let x = vec.lock().unwrap().pop(); // The MutexGuard is dropped after this statement.
if let Some(x) = x {
    // ......
}</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <hr class="border-2 border-dashed my-10">
      <h1 class="flex items-center w-fit my-6" id="sheng-ming-zhou-qi-yan-chang"><span class="text-2xl mr-2 text-cyan-500">ğŸ”—</span> <a class="text-4xl hover:underline underline-offset-8" href="#sheng-ming-zhou-qi-yan-chang">ç”Ÿå‘½å‘¨æœŸå»¶é•¿</a></h1>
      <p>è¯·è€ƒè™‘å¦‚ä¸‹æƒ…å†µ:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let a = &amp;String::from('ğŸ¦€');
// ......
f(&amp;a);</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <ol class="list-decimal ml-9">
        <li>å­—ç¬¦ä¸²åœ¨ <code class="font-semibold text-[#aa8bd5]"><code>let</code></code> è¯­å¥çš„æœ«å°¾è¢« <code class="font-semibold text-[#aa8bd5]"><code>Drop</code></code></li>
        <li>å­—ç¬¦ä¸²åœ¨ <code class="font-semibold text-[#aa8bd5]"><code>f</code></code> è°ƒç”¨å®Œæ¯•å, ä¸ <code class="font-semibold text-[#aa8bd5]"><code>a</code></code> åŒä¸€æ—¶åˆ»è¢« <code class="font-semibold text-[#aa8bd5]"><code>Drop</code></code></li>
      </ol>
      <p><br>å‰è€…ä¼šå¯¼è‡´ç¼–è¯‘æ—¶çš„å€Ÿç”¨æ£€æŸ¥é”™è¯¯, å› æ­¤åè€…æ‰æ›´æœ‰æ„ä¹‰<br>è¿™ç¡®å®æ˜¯ rust ä»Šå¤©çš„å·¥ä½œæ–¹å¼: ä¸´æ—¶å€¼çš„ç”Ÿå‘½å‘¨æœŸè¢« <em>å»¶é•¿(extended)</em>, ä»¥ä¾¿ä¸Šé¢çš„ä»£ç å¯ä»¥æ­£å¸¸ç¼–è¯‘<br>è¿™ç§ â€œä¸´æ—¶å€¼å­˜æ´»çš„æ—¶é—´æ¯”å…¶å‡ºç°çš„è¯­å¥æ›´é•¿â€ çš„ç°è±¡, è¢«ç§°ä¸º <em>ä¸´æ—¶å€¼çš„ç”Ÿå‘½å‘¨æœŸå»¶é•¿(temporary lifetime extension)</em><br><br>æˆ‘ä»¬å…ˆå‰å…¶å®è§è¯†è¿‡, è¯¥ç°è±¡å¹¶ä¸é€‚ç”¨äºæ‰€æœ‰å‡ºç°ä¸´æ—¶å€¼çš„ <code class="font-semibold text-[#aa8bd5]"><code>let</code></code> è¯­å¥<br>æ¯”å¦‚ <code class="font-semibold text-[#aa8bd5]"><code>let a = f(&amp;String::from('ğŸ¦€'));</code></code> ä¸­çš„ä¸´æ—¶å€¼å­—ç¬¦ä¸²å¹¶ä¸ä¼šæ¯”å…¶æ‰€åœ¨çš„ <code class="font-semibold text-[#aa8bd5]"><code>let</code></code> è¯­å¥æ´»å¾—æ›´é•¿<br>è€Œåœ¨ <code class="font-semibold text-[#aa8bd5]"><code>let a = &amp;f(&amp;String::from('ğŸ¦€'));</code></code>(æ³¨æ„ç¬¬ä¸€ä¸ª <code class="font-semibold text-[#aa8bd5]"><code>&amp;</code></code>), è¯¥ç°è±¡é€‚ç”¨äºæœ€å¤–å±‚çš„ <code class="font-semibold text-[#aa8bd5]"><code>&amp;</code></code>, å…¶å€Ÿç”¨äº†ä¸´æ—¶çš„ <code class="font-semibold text-[#aa8bd5]"><code>f</code></code>(å³è¿”å›å€¼), ä½†ä¸é€‚ç”¨å†…éƒ¨çš„ <code class="font-semibold text-[#aa8bd5]"><code>&amp;</code></code>, å…¶å€Ÿç”¨äº†ä¸´æ—¶å­—ç¬¦ä¸²<br><br>ä¾‹å¦‚, å½“æˆ‘ä»¬ç”¨ <code class="font-semibold text-[#aa8bd5]"><code>str::len</code></code> æ¥ä»£å…¥ <code class="font-semibold text-[#aa8bd5]"><code>f</code></code>:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let a: &amp;usize = &amp;String::from('a').len();</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>ä¸Šè¡Œä»£ç ä¸­, å­—ç¬¦ä¸²åœ¨ <code class="font-semibold text-[#aa8bd5]"><code>let</code></code> è¯­å¥çš„æœ«å°¾è¢« <code class="font-semibold text-[#aa8bd5]"><code>Drop</code></code>, ä½† <code class="font-semibold text-[#aa8bd5]"><code>.len()</code></code> è¿”å›çš„ <code class="font-semibold text-[#aa8bd5]"><code>usize</code></code> ä¸ <code class="font-semibold text-[#aa8bd5]"><code>a</code></code> æ´»çš„ä¸€æ ·ä¹…<br>ä¸é™äºå¦‚ä¸Šçš„ <code class="font-semibold text-[#aa8bd5]"><code>let</code></code> è¯­æ³•, ä¸‹é¢ä¸´æ—¶å€¼å­—ç¬¦ä¸²çš„ç”Ÿå‘½å‘¨æœŸä¹Ÿå°†è¢«å»¶é•¿, æ¯•ç«Ÿå³ä½¿å¯¹ <code class="font-semibold text-[#aa8bd5]"><code>Person</code></code> ä¸€æ— æ‰€çŸ¥, æˆ‘ä»¬ä¹Ÿç¡®ä¿¡è¿™å¯¹ç”Ÿæˆçš„å¯¹è±¡å®ä¾‹æ¥è®²æ˜¯å¿…è¦çš„<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let a = Person {
    name: &amp;String::from('ğŸ¦€'), // Extended!
    address: &amp;String::from('ğŸ¦€'), // Extended!
};</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>å…³äº <code class="font-semibold text-[#aa8bd5]"><code>let</code></code> è¯­å¥ä¸­çš„ â€œä¸´æ—¶å€¼çš„ç”Ÿå‘½å‘¨æœŸå»¶é•¿â€ ç›¸å…³è§„åˆ™, <a class="underline underline-offset-5 font-medium" href="https://doc.rust-lang.org/stable/reference/destructors.html#temporary-lifetime-extension">rust references</a> ä¸­å·²ç»é˜æ˜<br>ä½ å¯ä»¥ä»…åœ¨è¯­æ³•å±‚é¢, å°±èƒ½åˆ¤æ–­å‡ºå»¶é•¿ä¸´æ—¶å€¼çš„ç”Ÿå‘½å‘¨æœŸæ˜¯å¦å¿…è¦, ä¸ä»»ä½•ç±»å‹, å‡½æ•°ç­¾å, <code class="font-semibold text-[#aa8bd5]"><code>trait</code></code> å®ç°éƒ½æ— å…³:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let a = &amp;temporary().field; // Extended!
let a = MyStruct { field: &amp;temporary() }; // Extended!
let a = &amp;MyStruct { field: &amp;temporary() }; // Both extended!
let a = [&amp;temporary()]; // Extended!
let a = { â€¦; &amp;temporary() }; // Extended!

let a = f(&amp;temporary()); // Not extended, because it might not be necessary.
let a = temporary().f(); // Not extended, because it might not be necessary.
let a = temporary() + temporary(); // Not extended, because it might not be necessary.</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>è™½ç„¶è¿™çœ‹ä¼¼åˆç†, ä½†å½“æˆ‘ä»¬æ„è¯†åˆ°æ„å»º <em>å…ƒç»„ç»“æ„ä½“(tuple struct)</em> æˆ– <em>å…ƒç»„å˜ä½“(tuple variant)</em> çš„è¯­æ³•å®é™…ä¸Šæ˜¯ä¸ªå‡½æ•°è°ƒç”¨æ—¶, ä»ä¼šæ„Ÿåˆ°æ„å¤–<br>ä»è¯­æ³•å±‚é¢çœ‹, <code class="font-semibold text-[#aa8bd5]"><code>Some(123)</code></code> æ˜¯å¯¹å‡½æ•° <code class="font-semibold text-[#aa8bd5]"><code>Some</code></code> çš„ä¸€æ¬¡å‡½æ•°è°ƒç”¨:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let a = Some(&amp;temporary()); // Not extended! (Because `Some` could have any signature...)
let a = Some { 0: &amp;temporary() }; // Extended! (I bet you have never used this syntax.)</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>è¿™å¯èƒ½ä¼šéå¸¸å›°æƒ‘, æ‰€ä»¥æˆ‘ä»¬æ‰ä¼šè€ƒè™‘é‡æ–°å®¡è§†è¿™äº›è§„åˆ™: <a class="underline underline-offset-5 font-medium" href="https://smallcultfollowing.com/babysteps/blog/2023/03/15/temporary-lifetimes/#design-principles">ä¼ é€é—¨</a><br></p>
      <h2 class="flex items-center w-fit my-6" id="chang-liang-ti-sheng"><span class="text-2xl m-2 text-cyan-500">></span> <a class="text-2xl hover:underline underline-offset-8" href="#chang-liang-ti-sheng">å¸¸é‡æå‡</a></h2>
      <p><em>ä¸´æ—¶å€¼çš„ç”Ÿå‘½å‘¨æœŸå»¶é•¿(temporary lifetime extension)</em> å¾ˆå®¹æ˜“ä¸å¦ä¸€ç§è¢«ç§°ä¸º <em>å¸¸é‡æå‡(constant promotion)</em> çš„æ¦‚ç‡ç›¸æ··æ·†<br>åœ¨ <code class="font-semibold text-[#aa8bd5]"><code>&amp;123</code></code>, <code class="font-semibold text-[#aa8bd5]"><code>&amp;None</code></code> ç­‰è¡¨è¾¾å¼ä¸­, å€¼è¢«è§†ä½œ <em>å¸¸é‡(constant)</em>(<a class="underline underline-offset-5 font-medium" href="https://doc.rust-lang.org/stable/reference/destructors.html#constant-promotion">æ²¡æœ‰ <em>å†…éƒ¨å¯å˜æ€§(interior mutability)</em> ä¸ <em>ææ„å‡½æ•°(desctructors)</em></a>)<br>å› æ­¤å®ƒä»¬è¢«è‡ªåŠ¨æå‡è‡³æ°¸ä¹…å­˜æ´», å³è¿™äº›å¼•ç”¨å°†å…·æœ‰ä»¥ <code class="font-semibold text-[#aa8bd5]"><code>'static</code></code> æè¿°çš„ç”Ÿå‘½å‘¨æœŸ<br><br>ä¸¾ä¸ªä¾‹å­:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let x = f(&amp;3); // The &amp;3 here is 'static, regardless if that's necessary for `f()`.
let x = f(&amp;(1 + 2)); // The &amp;3 here is 'static.</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>å½“è¿™ä¸¤è€…æ¦‚å¿µéƒ½é€‚ç”¨æ—¶, é‚£ä¹ˆç¼–è¯‘å™¨ä¼šé€‰æ‹© <em>å¸¸é‡æå‡</em>, æ¯•ç«Ÿè¿™å¯ä»¥è®©ç”Ÿå‘½å‘¨æœŸå»¶é•¿å¾—æœ€è¿œ<br>ä¸‹é¢çš„ä»£ç ä¸­, <code class="font-semibold text-[#aa8bd5]"><code>x</code></code> æ˜¯ä¸€ä¸ª <code class="font-semibold text-[#aa8bd5]"><code>'static</code></code> çš„å¼•ç”¨, å€¼ <code class="font-semibold text-[#aa8bd5]"><code>1</code></code> ç”šè‡³æ¯” <code class="font-semibold text-[#aa8bd5]"><code>x</code></code> æœ¬èº«æ´»å¾—æ›´ä¹…<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let x = &amp;1; // constant promotion, not temporary lifetime extension.</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <h2 class="flex items-center w-fit my-6" id="kuai-ji-bie-de-yan-chang"><span class="text-2xl m-2 text-cyan-500">></span> <a class="text-2xl hover:underline underline-offset-8" href="#kuai-ji-bie-de-yan-chang">å—çº§åˆ«çš„å»¶é•¿</a></h2>
      <p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç±»å‹ <code class="font-semibold text-[#aa8bd5]"><code>Writer</code></code>, å…¶ä¿å­˜å¯¹å¾…å†™å…¥æ–‡ä»¶(<code class="font-semibold text-[#aa8bd5]"><code>File</code></code>) çš„å¼•ç”¨:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">pub struct Writer&lt;'a> {
    pub file: &amp;'a File
}</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>è¿˜æœ‰ä¸€äº›æ„é€  <code class="font-semibold text-[#aa8bd5]"><code>Writer</code></code> æ¥å†™å…¥æ–°åˆ›å»ºæ–‡ä»¶çš„ä»£ç :<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">println!("opening file...");
let filename = "hello.txt";
let file = File::create(filename).unwrap();
let writer = Writer { file: &amp;file };</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>å½“å‰ä½œç”¨åŸŸåŒ…å«äº† <code class="font-semibold text-[#aa8bd5]"><code>filename</code></code>, <code class="font-semibold text-[#aa8bd5]"><code>file</code></code>, <code class="font-semibold text-[#aa8bd5]"><code>writer</code></code>, ä½†æˆ‘ä»¬å…¶å®åªä¼šç”¨åˆ° <code class="font-semibold text-[#aa8bd5]"><code>writer</code></code>, å› æ­¤åœ¨ä¹‹åçš„ä½œç”¨åŸŸä¸­, <code class="font-semibold text-[#aa8bd5]"><code>filename</code></code>/<code class="font-semibold text-[#aa8bd5]"><code>file</code></code> ç†æƒ³æƒ…å†µä¸‹åº”å½“ä¸å¯è§<br>ç”±äº â€œä¸´æ—¶å€¼çš„ç”Ÿå‘½å‘¨æœŸå»¶é•¿â€ ä¹Ÿé€‚ç”¨äºä»£ç å—, å› æ­¤æˆ‘ä»¬å¯ä»¥å¦‚ä¸‹å®ç°:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let writer = {
    println!("opening file...");
    let filename = "hello.txt";
    Writer { file: &amp;File::create(filename).unwrap() }
};</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>ç›®å‰, <code class="font-semibold text-[#aa8bd5]"><code>Writer</code></code> çš„æ„é€ è¢«å·§å¦™åœ°å°è£…åœ¨å…¶è‡ªèº«çš„ä½œç”¨åŸŸå†…, å¤–éƒ¨çš„ä½œç”¨åŸŸåªèƒ½çœ‹è§ <code class="font-semibold text-[#aa8bd5]"><code>writer</code></code>, è€Œæ— æ³•è®¿é—®å…¶ä»–å†…å®¹<br>å¾—ç›Šäºè§„åˆ™, ä½œä¸ºä¸´æ—¶å€¼åœ¨å†…éƒ¨ä½œç”¨åŸŸå†…åˆ›å»ºçš„ <code class="font-semibold text-[#aa8bd5]"><code>file</code></code> ä¼šä¸ <code class="font-semibold text-[#aa8bd5]"><code>writer</code></code> æ´»å¾—ä¸€æ ·ä¹…<br></p>
      <h2 class="flex items-center w-fit my-6" id="ju-xian-xing"><span class="text-2xl m-2 text-cyan-500">></span> <a class="text-2xl hover:underline underline-offset-8" href="#ju-xian-xing">å±€é™æ€§</a></h2>
      <p>ç°åœ¨, è‹¥æˆ‘ä»¬æƒ³å°†å­—æ®µ <code class="font-semibold text-[#aa8bd5]"><code>file</code></code> çš„å¯è§æ€§è®¾ç½®ä¸ºç§æœ‰, å¹¶ç”¨ <code class="font-semibold text-[#aa8bd5]"><code>new</code></code> æ–¹æ³•è¿›è¡Œå°è£…:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">pub struct Writer&lt;'a> {
    file: &amp;'a File
}

impl&lt;'a> Writer&lt;'a> {
    pub fn new(file: &amp;'a File) -> Self {
        Self { file }
    }
}</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>æˆ‘ä»¬ä¸ç”¨è¿›è¡Œå¤ªå¤šæ”¹åŠ¨:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">println!("opening file...");
let filename = "hello.txt";
let file = File::create(filename).unwrap();
let writer = Writer::new(&amp;file); // Only this line changed.</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>ä½† â€œä¸ç”¨è¿›è¡Œå¤ªå¤šæ›´æ”¹â€ å¹¶ä¸é€‚ç”¨äºå…ˆå‰çš„ä½œç”¨åŸŸç‰ˆæœ¬:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let writer = {
    println!("opening file...");
    let filename = "hello.txt";
    Writer::new(&amp;File::create(filename).unwrap()) // Error: Does not live long enough!
};

writer.something(); // Error: File no longer alive here!</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>æ­£å¦‚æˆ‘ä»¬å…ˆå‰æ‰€è¿°, å»¶é•¿è™½ç„¶å¯ä»¥å›  <code class="font-semibold text-[#aa8bd5]"><code>Writer {}</code></code> è¿™ä¸€ â€œæ„é€ è¯­æ³•â€ è¢«ä¼ é€’, ä½†æ— æ³•é€šè¿‡ <code class="font-semibold text-[#aa8bd5]"><code>Writer::new()</code></code> è¿™ä¸€ â€œè°ƒç”¨è¯­æ³•â€ æ¥ä¼ é€’<br>å› ä¸ºå…¶å‡½æ•°ç­¾åå¯ä»¥æ˜¯ <code class="font-semibold text-[#aa8bd5]"><code>fn new(&amp;File) -> Self&lt;'static></code></code> æˆ– <code class="font-semibold text-[#aa8bd5]"><code>fn new(&amp;File) -> i32</code></code>(åè€…ä¸éœ€å»¶é•¿)<br><br>é—æ†¾çš„æ˜¯, æˆ‘ä»¬æ— æ³•æ˜ç¡®å¼ºåˆ¶è¦æ±‚å»¶é•¿ä¸´æ—¶å€¼çš„ç”Ÿå‘½å‘¨æœŸ<br>æˆ‘ä»¬åªå¥½å°† <code class="font-semibold text-[#aa8bd5]"><code>let file</code></code> æ”¾åœ¨å¤–å±‚çš„ä½œç”¨åŸŸ, ä»Šå¤©æˆ‘ä»¬èƒ½åšçš„æœ€å¥½çš„äº‹æƒ…, å°±æ˜¯ä½¿ç”¨ <a class="underline underline-offset-5 font-medium" href="https://doc.rust-lang.org/nomicon/checked-uninit.html">å»¶è¿Ÿåˆå§‹åŒ–(delayed intialization)</a>:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let file;
let writer = {
    println!("opening file...");
    let filename = "hello.txt";
    file = File::create(filename).unwrap();
    Writer::new(&amp;file)
};</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>ä½†è¿™åˆä¼šä½¿å¾— <code class="font-semibold text-[#aa8bd5]"><code>file</code></code> å›åˆ°å…ˆå‰çš„ä½œç”¨åŸŸ, è€Œè¿™åˆæ˜¯æˆ‘ä»¬å…ˆå‰è¯•å›¾é¿å…çš„ :(<br>è™½ç„¶å°† <code class="font-semibold text-[#aa8bd5]"><code>let file</code></code> æ”¾åœ¨ä½œç”¨åŸŸå¤–ä¹Ÿæ²¡å•¥å¤§ä¸äº†çš„, ä½†è¿™ç§è§£å†³æ–¹æ³•å¯¹å¤§å¤šæ•° rust ç¨‹åºå‘˜å¹¶ä¸æ˜æ˜¾<br>å»¶è¿Ÿåˆå§‹åŒ–ä¹Ÿå¹¶ä¸æ˜¯å¸¸ç”¨ç‰¹æ€§, ç¼–è¯‘å™¨ç›®å‰æŠ¥é”™æ—¶ä¹Ÿä¸ä¼šä¸»åŠ¨å»ºè®®è¯¥æ–¹æ¡ˆ, å³ä½¿ç¼–è¯‘å™¨èƒ½åšåˆ°, è‡ªåŠ¨æå‡ºè¿™æ ·çš„å»ºè®®ä¹Ÿç»éæ˜“äº‹<br><br>ä»¥æŸç§æ–¹å¼æˆ–è®¸å¯ä»¥å¾ˆå¥½åœ°è§£å†³è¯¥é—®é¢˜<br></p>
      <hr class="border-2 border-dashed my-10">
      <h1 class="flex items-center w-fit my-6" id="hong"><span class="text-2xl mr-2 text-cyan-500">ğŸ”—</span> <a class="text-4xl hover:underline underline-offset-8" href="#hong">å®</a></h1>
      <p>æˆ–è®¸æœ‰ä¸ªæ—¢èƒ½åˆ›å»ºæ–‡ä»¶åˆå¯ä»¥è¿”å› <code class="font-semibold text-[#aa8bd5]"><code>Writer</code></code> çš„å‡½æ•°ä¼šå¾ˆæœ‰ç”¨, ä¾‹å¦‚:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let writer = Writer::new_file("hello.txt");</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>ä½†ç”±äº <code class="font-semibold text-[#aa8bd5]"><code>Writer</code></code> ä»…å€Ÿç”¨ <code class="font-semibold text-[#aa8bd5]"><code>File</code></code>, è¿™å°†è¦æ±‚ <code class="font-semibold text-[#aa8bd5]"><code>new_file</code></code> å°† <code class="font-semibold text-[#aa8bd5]"><code>File</code></code> å­˜å‚¨åœ¨å“ªé‡Œ<br>å…¶å¯ä»¥ä¸»åŠ¨ <code class="font-semibold text-[#aa8bd5]"><code>leak</code></code> è¯¥ <code class="font-semibold text-[#aa8bd5]"><code>File</code></code>, äº¦æˆ–è€…ä»¥æŸç§æ–¹å¼å°†å®ƒå­˜å‚¨åœ¨ <code class="font-semibold text-[#aa8bd5]"><code>'static</code></code> çš„å˜é‡é‡Œ, ä½†ç›®å‰æ— æ³•ä½¿å¾— <code class="font-semibold text-[#aa8bd5]"><code>File</code></code> çš„å­˜æ´»æ—¶é—´ä¸è¿”å›çš„ <code class="font-semibold text-[#aa8bd5]"><code>Writer</code></code> ä¸€æ ·é•¿ å› æ­¤, æˆ‘ä»¬æ”¹ç”¨ <em>å®(macro)</em> æ¥å®šä¹‰ <code class="font-semibold text-[#aa8bd5]"><code>File</code></code> å’Œ <code class="font-semibold text-[#aa8bd5]"><code>Writer</code></code>, æ— è®ºåœ¨å“ªè°ƒç”¨éƒ½è¡Œ:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">macro_rules! let_writer_to_file {
    ($writer:ident, $filename:expr) => {
        let file = std::fs::File::create($filename).unwrap();
        let $writer = Writer::new(&amp;file);
    };
}</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>ç”¨æ³•å¦‚ä¸‹æ‰€ç¤º:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let_writer_to_file!(writer, "hello.txt");

writer.something();</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>å¾—ç›Šäº rust ä¸­å®çš„ <a class="underline underline-offset-5 font-medium" href="https://veykril.github.io/tlborm/decl-macros/minutiae/hygiene.html">å«ç”Ÿæ€§</a>, è¯¥ä½œç”¨åŸŸå†…æ— æ³•è®¿é—® <code class="font-semibold text-[#aa8bd5]"><code>file</code></code><br>è¿™å¾ˆæœ‰æ•ˆ, ä½†å¦‚æœå…¶çœ‹èµ·æ¥æ›´åƒä¸ªå¸¸è§„çš„å‡½æ•°è°ƒç”¨å²‚ä¸æ˜¯æ›´å¥½?<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let writer = writer_to_file!("hello.txt");

writer.something();</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>å¦‚å…ˆå‰æ‰€è¿°, è¦åœ¨ <code class="font-semibold text-[#aa8bd5]"><code>let writer = ..;</code></code> æˆ‘ä»¬å¯ä»¥é€šè¿‡å…ˆå‰çš„è§„åˆ™, ä½¿å¾— <code class="font-semibold text-[#aa8bd5]"><code>File</code></code> ç±»å‹çš„ä¸´æ—¶å€¼çš„ç”Ÿå‘½å‘¨æœŸè¢«å»¶é•¿è‡³è¶³å¤Ÿä¹…:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">macro_rules! writer_to_file {
    ($filename:expr) => {
        Writer { file: &amp;File::create($filename).unwrap() }
    };
}

let writer = writer_to_file!("hello.txt");</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>å®è°ƒç”¨å°†è¢«å±•å¼€ä¸º:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let writer = Writer { file: &amp;File::create("hello.txt").unwrap() };</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>è¿™å°†åœ¨å¿…è¦æ—¶å»¶é•¿ç±»å‹ä¸º <code class="font-semibold text-[#aa8bd5]"><code>File</code></code> çš„ä¸´æ—¶å€¼çš„ç”Ÿå‘½å‘¨æœŸ<br>ä½†è‹¥ <code class="font-semibold text-[#aa8bd5]"><code>file</code></code> çš„å¯è§æ€§ä¸æ˜¯å…¬å¼€çš„, æˆ‘ä»¬å°±å¾—ç”¨ <code class="font-semibold text-[#aa8bd5]"><code>Writer::new()</code></code> æ¥æ›¿ä»£ <code class="font-semibold text-[#aa8bd5]"><code>Writer {}</code></code>, å®å¿…é¡»å¾—åšåˆ° â€œåœ¨ <code class="font-semibold text-[#aa8bd5]"><code>let writer</code></code> å‰æ’å…¥ <code class="font-semibold text-[#aa8bd5]"><code>let file</code></code>â€<br>è€Œè¿™æ˜¯ä¸å¯èƒ½çš„<br></p>
      <h2 class="flex items-center w-fit my-6" id="format_args!"><span class="text-2xl m-2 text-cyan-500">></span> <a class="text-2xl hover:underline underline-offset-8" href="#format_args!">format_args!</a></h2>
      <p>è¯¥ issue åŒæ—¶å¯¼è‡´äº† <code class="font-semibold text-[#aa8bd5]"><code>format_args!</code></code> çš„è¿”å›ç»“æœæ— æ³•è¢« <code class="font-semibold text-[#aa8bd5]"><code>let</code></code> è¯­å¥å­˜å‚¨:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let f = format_args!("{}", 1); // Error!
something.write_fmt(f);</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>åŸå› æ˜¯ <code class="font-semibold text-[#aa8bd5]"><code>format_args!</code></code> è¢«å±•å¼€ä¸º <code class="font-semibold text-[#aa8bd5]"><code>fmt::Arguments::new(&amp;Argument::display(&amp;arg), â€¦)</code></code>, å…¶ä¸­æŸäº›å‚æ•°æ˜¯å¯¹ä¸´æ—¶å€¼çš„å¼•ç”¨<br>â€œä¸´æ—¶å€¼çš„ç”Ÿå‘½å‘¨æœŸå»¶é•¿è§„åˆ™â€ å¹¶ä¸é€‚ç”¨äºå‡½æ•°è°ƒç”¨ä¸­çš„å‚æ•°, å› æ­¤ <code class="font-semibold text-[#aa8bd5]"><code>fmt::Arguments</code></code> çš„å¯¹è±¡å®ä¾‹åªèƒ½åœ¨åŒä¸€è¯­å¥ä¸­ä½¿ç”¨<br><br>è¦æ˜¯èƒ½è§£å†³è¿™ä¸ªé—®é¢˜å°±å¥½äº†<br></p>
      <h2 class="flex items-center w-fit my-6" id="pin!"><span class="text-2xl m-2 text-cyan-500">></span> <a class="text-2xl hover:underline underline-offset-8" href="#pin!">pin!</a></h2>
      <p>å¦ä¸€ç§é€šå¸¸ç”±å®åˆ›å»ºçš„ç±»å‹æ˜¯ <code class="font-semibold text-[#aa8bd5]"><code>Pin</code></code>, ç®€å•åœ°è¯´, è¿™è¡¨ç¤ºå¯¹æ°¸è¿œä¸ä¼š <em>ç§»åŠ¨(move)</em> çš„ä¸œè¥¿çš„å¼•ç”¨ (ç¡®åˆ‡ç»†èŠ‚éå¸¸å¤æ‚, ç°åœ¨å¹¶éé‡ç‚¹)<br>å…¶æ˜¯é€šè¿‡ <code class="font-semibold text-[#aa8bd5]"><code>unsafe</code></code> å‡½æ•° <code class="font-semibold text-[#aa8bd5]"><code>Pin::new_unchecked</code></code> åˆ›å»ºçš„, å› ä¸ºä½ å¾—ä¸»åŠ¨æ‰¿è¯ºä¼šéµå®ˆçº¦å®š: å®ƒå¼•ç”¨çš„å€¼æ°¸è¿œä¸è¯¥è¢«ç§»åŠ¨, å³ä½¿ <code class="font-semibold text-[#aa8bd5]"><code>Pin</code></code> æœ¬èº«æ¶ˆå¤±å<br><br>ä½¿ç”¨è¯¥å‡½æ•°çš„æœ€ä½³æ–¹å¼æ˜¯é€šè¿‡ <em>å˜é‡é®è”½(variable shadowing)</em>:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let mut thing = Thing { â€¦ };
let thing = unsafe { Pin::new_unchecked(&amp;mut thing) };</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>ç”±äºç¬¬äºŒä¸ª <code class="font-semibold text-[#aa8bd5]"><code>thing</code></code> å°†ç¬¬ä¸€ä¸ª <code class="font-semibold text-[#aa8bd5]"><code>thing</code></code> é®è”½äº†, ç¬¬ä¸€ä¸ª <code class="font-semibold text-[#aa8bd5]"><code>thing</code></code>(ä½†ä»ç„¶å­˜åœ¨) æ— æ³•å†è¢«å‘½å<br>å› ä¸ºå…¶æ— æ³•å†è¢«å‘½å, æˆ‘ä»¬å¯ä»¥ç¡®ä¿¡å…¶ä¸å¯è¢«ç§»åŠ¨(å³ä½¿æ˜¯åœ¨ç¬¬äºŒä¸ª <code class="font-semibold text-[#aa8bd5]"><code>thing</code></code> è¢« <code class="font-semibold text-[#aa8bd5]"><code>Drop</code></code> æ‰ä¹‹å)<br>è¿™å°±æ˜¯æˆ‘ä»¬å¯¹ <code class="font-semibold text-[#aa8bd5]"><code>unsafe</code></code> ä»£ç å—çš„çš„æ‰¿è¯º!<br><br>ç”±äºè¿™æ˜¯ä¸€ç§å¸¸è§çš„æƒ…å†µ, è¯¥æ¨¡å¼é€šå¸¸ä¼šè¢«å°è£…åœ¨å®é‡Œé¢<br>ä¾‹å¦‚, å¯ä»¥å®šä¹‰ä¸€ä¸ª <code class="font-semibold text-[#aa8bd5]"><code>let_pin!</code></code> å®:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">macro_rules! let_pin {
    ($name:ident, $init:expr) => {
        let mut $name = $init;
        let $name = unsafe { Pin::new_unchecked(&amp;mut $name) };
    };
}</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>ç”¨æ³•è·Ÿæˆ‘ä»¬å…ˆå‰ä½¿ç”¨çš„ <code class="font-semibold text-[#aa8bd5]"><code>let_writer_to_file!</code></code> å®ç±»ä¼¼:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let_pin!(thing, Thing { â€¦ });

thing.something();</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>è¿™å¾ˆå¥½åœ°å°è£…ä¸éšè—äº† <code class="font-semibold text-[#aa8bd5]"><code>unsafe</code></code> ç›¸å…³çš„ä»£ç <br>ä½†å°±åƒæˆ‘ä»¬çš„ <code class="font-semibold text-[#aa8bd5]"><code>Writer</code></code> ç¤ºä¾‹ä¸€èˆ¬, å¦‚æœå…¶èƒ½åƒé‚£æ ·å­å·¥ä½œä¸æ˜¯æ›´çˆ½å—?<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let thing = pin!(Thing { â€¦ });</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>ä¼—æ‰€å‘¨çŸ¥, æƒ³ä½¿å…¶å¯ä»¥è¢«åšåˆ°, æˆ‘ä»¬å°±å¾—åˆ©ç”¨ä¸Šå»¶é•¿è§„åˆ™, æ¢å¥è¯è¯´, è¿™åªæœ‰å½“æˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨ <code class="font-semibold text-[#aa8bd5]"><code>Pin {}</code></code> çš„ â€œæ„é€ è¯­æ³•â€æ‰æœ‰å¯èƒ½<br>è‹¥ä½¿ç”¨ <code class="font-semibold text-[#aa8bd5]"><code>Pin { pinned: &amp;mut Thing { â€¦ } }</code></code> çš„å½¢å¼, é‚£ä¹ˆå¯ä»¥, ä½†æ˜¯ <code class="font-semibold text-[#aa8bd5]"><code>Pin::new_unchecked(&amp;mut Thing { â€¦ })</code></code> ä¸è¡Œ<br>è®© <code class="font-semibold text-[#aa8bd5]"><code>Pin</code></code> å†…éƒ¨å­—æ®µçš„å¯è§æ€§å˜ä¸ºå…¬å¼€, å°†ä¼šè¿èƒŒå…¶åˆè¡·: å½“å­—æ®µç§æœ‰æ—¶, <code class="font-semibold text-[#aa8bd5]"><code>Pin</code></code> çš„ä¿è¯æ‰æœ‰æ„ä¹‰<br><br>ä¸å¹¸çš„æ˜¯, æˆ‘ä»¬ä»Šå¤©æ— æ³•æˆåŠŸç¼–å†™å‡ºç¬¦åˆåˆè¡·çš„ <code class="font-semibold text-[#aa8bd5]"><code>pin!</code></code> å®, æ›´ä¸å¹¸çš„æ˜¯, æ ‡å‡†åº“é€‰æ‹©äº†è¿™æ ·åš(<a class="underline underline-offset-5 font-medium" href="https://doc.rust-lang.org/stable/std/pin/macro.pin.html">ä¼ é€é—¨</a>), è¿™çŠ¯ä¸‹äº†å¯æ€•çš„ç½ªè¡Œ:<br><code class="font-semibold text-[#aa8bd5]"><code>Pin</code></code> çš„ â€œprivateâ€ å­—æ®µå®é™…ä¸Šè¢«å®šä¹‰ä¸ºäº† <code class="font-semibold text-[#aa8bd5]"><code>pub</code></code>, ä¹Ÿè¢«æ ‡è®°ä¸ºäº† <code class="font-semibold text-[#aa8bd5]"><code>unstable</code></code>, ç¼–è¯‘å™¨ä¼šåœ¨ä½ ä½¿ç”¨å®ƒæ—¶å‘å‡ºè­¦å‘Š<br><br>è¦æ˜¯ä¸éœ€è¦è¿™ä¸ª hack çš„æŠ€å·§å°±å¥½äº†<br></p>
      <hr class="border-2 border-dashed my-10">
      <h1 class="flex items-center w-fit my-6" id="super-let"><span class="text-2xl mr-2 text-cyan-500">ğŸ”—</span> <a class="text-4xl hover:underline underline-offset-8" href="#super-let">super-let</a></h1>
      <p>æˆ‘ä»¬å·²ç»é­é‡å¤šç§å»¶é•¿è§„åˆ™å—åˆ°é™åˆ¶çš„æƒ…å†µ:<br></p>
      <ul class="list-disc ml-5">
        <li>å°è¯•ä½¿ <code class="font-semibold text-[#aa8bd5]"><code>let writer = { â€¦ };</code></code> ä¿æŒä¸€ä¸ªä¼˜é›…çš„ä½œç”¨åŸŸ, å¤±è´¥<br></li>
        <li>å°è¯•å®ç° <code class="font-semibold text-[#aa8bd5]"><code>let writer = writer_to_file!(â€¦);</code></code>, å¤±è´¥</li>
        <li>å°è¯•å®ç° <code class="font-semibold text-[#aa8bd5]"><code>let f = format_args!(â€¦);</code></code>, å¤±è´¥</li>
        <li>æ ‡å‡†åº“ä¸ºäº†è®© <code class="font-semibold text-[#aa8bd5]"><code>pin!</code></code> å·¥ä½œè€Œé‡‡å–äº†ç³Ÿç³•çš„ hack æŠ€å·§</li>
      </ul>
      <p><br>å¦‚æœæˆ‘ä»¬æœ‰åŠæ³•å»¶é•¿ç”Ÿå‘½å‘¨æœŸ, é‚£ä¹ˆè¿™äº›å…¨éƒ½èƒ½æœ‰å¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆ<br>è€ƒè™‘è®©æˆ‘ä»¬å®šä¹‰ä¸€ç§ç‰¹æ®Šçš„ <code class="font-semibold text-[#aa8bd5]"><code>let</code></code> è¯­å¥, è®©å˜é‡çš„ç”Ÿå‘½å‘¨æœŸæ¯”æ™®é€šçš„ <code class="font-semibold text-[#aa8bd5]"><code>let</code></code> æ›´é•¿ä¼šæ€ä¹ˆæ ·?<br>å¦‚åŒæ‹¥æœ‰è¶…èƒ½åŠ›(æˆ–è€…è¯´æ˜¯åœ¨ â€œsuperâ€ ä½œç”¨åŸŸä¸‹) çš„ <code class="font-semibold text-[#aa8bd5]"><code>let</code></code>, æˆ‘ä»¬ä¸å¦¨ç§°å‘¼å®ƒä¸º <code class="font-semibold text-[#aa8bd5]"><code>super-let</code></code><br><br>æˆ‘å‡è®¾ <code class="font-semibold text-[#aa8bd5]"><code>super-let</code></code> è¯­å¥å¯ä»¥åƒè¿™æ ·å·¥ä½œ:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let writer = {
    println!("opening file...");
    let filename = "hello.txt";
    super let file = File::create(filename).unwrap();
    Writer::new(&amp;file)
};</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>å…³é”®å­— <code class="font-semibold text-[#aa8bd5]"><code>super</code></code> ä½¿å¾— <code class="font-semibold text-[#aa8bd5]"><code>file</code></code> æ´»å¾—è·Ÿ <code class="font-semibold text-[#aa8bd5]"><code>writer</code></code>(å¤–é¢ä»£ç å—ç”Ÿæˆçš„é‚£ä¸ª <code class="font-semibold text-[#aa8bd5]"><code>Writer</code></code> å¯¹è±¡) ä¸€æ ·ä¹…<br><code class="font-semibold text-[#aa8bd5]"><code>super-let</code></code> çš„å…·ä½“è§„åˆ™å°šå¾…å•†æ¦·, ä½†å…¶ä¸»è¦ç›®çš„æ˜¯å®ç° â€œä¸´æ—¶å€¼çš„ç”Ÿå‘½å‘¨æœŸå»¶é•¿â€ çš„ <em>è„±ç³–åŒ–(desugaring)</em> å¤„ç†:<br></p>
      <ul class="list-disc ml-5">
        <li><code class="font-semibold text-[#aa8bd5]"><code>let a = &amp;temporary();</code></code> ä¸ <code class="font-semibold text-[#aa8bd5]"><code>let a = { super let t = temporary(); &amp;t };</code></code> åº”è¯¥ç­‰ä»·<br></li>
      </ul>
      <p>è¿™å°†ä½¿å¾— <code class="font-semibold text-[#aa8bd5]"><code>pin!</code></code> å®å¯ä»¥åœ¨æ²¡æœ‰ä»»ä½• hack æŠ€å·§çš„æƒ…å†µä¸‹è¿›è¡Œå®šä¹‰:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">macro_rules! pin {
    ($init:expr) => {
        {
            super let pinned = $init;
            unsafe { Pin::new_unchecked(&amp;pinned) }
        }
    };
}

let thing = pin!(Thing { â€¦ });</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>åŒç†, <code class="font-semibold text-[#aa8bd5]"><code>format_args!</code></code> å®å†…çš„å®šä¹‰ä¹Ÿå¯ä»¥å¯¹ä¸´æ—¶å€¼ä½¿ç”¨ <code class="font-semibold text-[#aa8bd5]"><code>super-let</code></code>, ä»¥ä¾¿ç»“æœèƒ½ä½œä¸º<code class="font-semibold text-[#aa8bd5]"><code>let a = format_args!()</code></code> å¯¹ä¸€éƒ¨åˆ†è¢«å­˜å‚¨:<br></p>
      <h2 class="flex items-center w-fit my-6" id="yong-hu-you-shan-du"><span class="text-2xl m-2 text-cyan-500">></span> <a class="text-2xl hover:underline underline-offset-8" href="#yong-hu-you-shan-du">ç”¨æˆ·å‹å–„åº¦</a></h2>
      <p>åŒæ—¶æ‹¥æœ‰è¯­ä¹‰ä¸åŒçš„ <code class="font-semibold text-[#aa8bd5]"><code>let</code></code> ä¸ <code class="font-semibold text-[#aa8bd5]"><code>super-let</code></code> å¬ä¸Šå»ä¸æ˜¯å•¥å¥½ä¸»æ„, å…¶è§£å†³äº†ä¸€äº›é—®é¢˜, å°¤å…¶æ˜¯å®<br>ä½†å¯¹äºè¯•å›¾ç†è§£ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«è€Œäº§ç”Ÿçš„å›°æƒ‘, è¿™ä¸€åˆ‡çœŸçš„å€¼å¾—å—?<br><br>æˆ‘çš„ç­”æ¡ˆæ˜¯: yes!<br>åªè¦æˆ‘ä»¬ç¡®ä¿ç¼–è¯‘å™¨å°½å¯èƒ½å¯¹ <code class="font-semibold text-[#aa8bd5]"><code>let</code></code> æ˜¯å¦è¦æ·»åŠ /ç§»é™¤ <code class="font-semibold text-[#aa8bd5]"><code>super</code></code> ç»™å‡ºå»ºè®®å³å¯<br>æƒ³è±¡ä¸‹, æœ‰äººè¿™ä¹ˆå†™:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let output: Option&lt;&amp;mut dyn Write> = if verbose {
    let mut file = std::fs::File::create("log")?;
    Some(&amp;mut file)
} else {
    None
};</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>ä»Šå¤©, è¿™ä¼šå¯¼è‡´ä»¥ä¸‹é”™è¯¯:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-text text-sm sm:text-base">error[E0597]: `file` does not live long enough
  --> src/main.rs:16:14
   |
14 |     let output: Option&lt;&amp;mut dyn Write> = if verbose {
   |         ------ borrow later stored here
15 |         let mut file = std::fs::File::create("log")?;
   |             -------- binding `file` declared here
16 |         Some(&amp;mut file)
   |              ^^^^^^^^^ borrowed value does not live long enough
17 |     } else {
   |     - `file` dropped here while still borrowed</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>è™½ç„¶é—®é¢˜æ‰€åœ¨ç›¸å¯¹æ¸…æ™°, ä½†ç¼–è¯‘å™¨å¹¶æœªæä¾›è§£å†³æ–¹æ¡ˆ<br>ç»å¸¸ä¼šæœ‰ rust ç¨‹åºå‘˜å¸¦ç€ç±»ä¼¼çš„ä¾‹å­æ¥å¯»æ±‚æˆ‘çš„å¸®åŠ©, å¯¼è‡´æˆ‘ä¸ºä»–ä»¬è§£é‡Š <em>å»¶è¿Ÿåˆå§‹åŒ–(delayed initialization)</em>:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">let mut file;
let output: Option&lt;&amp;mut dyn Write> = if verbose {
    file = std::fs::File::create("log")?;
    Some(&amp;mut file)
} else {
    None
};</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>è¿™ä¸ªè§£å†³æ–¹æ¡ˆå¯¹å¤§å¤šæ•°äººæ¥è®²å¹¶ä¸æ˜¾ç„¶, ä¹Ÿè®¸æ˜¯å¯¹åœ¨ <code class="font-semibold text-[#aa8bd5]"><code>else</code></code> åˆ†æ”¯ä¸­çš„ <code class="font-semibold text-[#aa8bd5]"><code>file</code></code> æœªåˆå§‹åŒ–æ„Ÿåˆ°å¥‡æ€ª<br>å¦‚æœæŠ¥é”™ä¿¡æ¯å¦‚ä¸‹, å²‚ä¸æ˜¯ä¼šæ›´å¥½?<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-text text-sm sm:text-base">error[E0597]: `file` does not live long enough
  --> src/main.rs:16:14
   |
15 |         let mut file = std::fs::File::create("log")?;
   |             --------
   |
help: try using `super let`
   |
15 |         super let mut file = std::fs::File::create("log")?;
   |         +++++</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>å³ä½¿ä»–ä»¬å¯¹ <code class="font-semibold text-[#aa8bd5]"><code>super-let</code></code> åŠå…¶ç¡®åˆ‡è¯­ä¹‰äº†è§£ä¸å¤š, ç¼–è¯‘å™¨ä¹Ÿæä¾›äº†è§£å†³é—®é¢˜çš„æ¸…æ™°ç®€æ´çš„æ–¹æ¡ˆ, å‘Šè¯‰ä»–ä»¬ <code class="font-semibold text-[#aa8bd5]"><code>super</code></code> å¯ä»¥è®©å˜é‡æ´»å¾—æ›´ä¹…<br>åŒæ ·çš„, å½“ä¸å¿…ä½¿ç”¨ <code class="font-semibold text-[#aa8bd5]"><code>super-let</code></code> æ—¶, ç¼–è¯‘å™¨ä¹Ÿå¯ä»¥å‘å‡ºå»ºè®®ç§»é™¤ <code class="font-semibold text-[#aa8bd5]"><code>super</code></code>çš„æç¤º:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-text text-sm sm:text-base">warning: unnecessary use of `super let`
  --> src/main.rs:16:14
   |
15 |         super let mut file = std::fs::File::create("log")?;
   |         ^^^^^ help: remove this
   |
   = note: `file` would live long enough with a regular `let`</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>æˆ‘ç›¸ä¿¡è¿™äº›è¶³ä»¥è®© rust ç¨‹åºå‘˜å¼€å§‹ä½¿ç”¨ <code class="font-semibold text-[#aa8bd5]"><code>super-let</code></code>, å³ä½¿ä»–ä»¬ä»¥å‰ä»æœªæ¥è§¦è¿‡è¿™ç©æ„<br></p>
      <h2 class="flex items-center w-fit my-6" id="qian-zai-kuo-zhan-fang-xiang"><span class="text-2xl m-2 text-cyan-500">></span> <a class="text-2xl hover:underline underline-offset-8" href="#qian-zai-kuo-zhan-fang-xiang">æ½œåœ¨æ‰©å±•æ–¹å‘</a></h2>
      <p>ä¸€é¡¹æœªæ¥æ½œåœ¨çš„æ‰©å±•æ–¹å‘, æ˜¯å…è®¸åœ¨å‡½æ•°ä½œç”¨åŸŸå†…ä½¿ç”¨ <code class="font-semibold text-[#aa8bd5]"><code>super-let</code></code>, ä¹Ÿå°±æ˜¯è¯´æ­¤æ—¶ <code class="font-semibold text-[#aa8bd5]"><code>super</code></code> å°†è¡¨ç¤ºå‡½æ•°çš„ <em>è°ƒç”¨è€…(caller)</em><br>æ­£å¦‚ <a class="underline underline-offset-5 font-medium" href="https://hachyderm.io/@lorepozo@tech.lgbt/111499621692587962">@lorepozo@tech.lgbt on Mastodon</a> ä¸Šæ‰€æåˆ°çš„, è¿™å°†ä½¿ <code class="font-semibold text-[#aa8bd5]"><code>pin!</code></code> èƒ½ä½œä¸ºå‡½æ•°è€Œéå®å­˜åœ¨<br>åŒç†, <code class="font-semibold text-[#aa8bd5]"><code>Writer::new_file(...)</code></code> ä¹Ÿå°†æ— éœ€å€ŸåŠ©å®å³å¯å®ç°<br><br>å…¶æœ¬è´¨ä¸Šçš„è¿ä½œæœºåˆ¶: å…è®¸ç‰¹å®šå‡½æ•°å°†å¯¹è±¡æ”¾ç½®åˆ°è°ƒç”¨è€…çš„ <em>æ ˆå¸§(stack frame)</em> ä¸­, è¿™äº›å¯¹è±¡å¯ä»¥ä»è¿”å›å€¼ä¸­è¢«å¼•ç”¨<br>è¿™å¹¶éé€‚ç”¨äºæ‰€æœ‰å¸¸è§„å‡½æ•°, é€šå¸¸è°ƒç”¨è€…ä¸ä¼šä¸ºå‡½æ•°é¢„ç•™å¾…æ”¾å…¥å¯¹è±¡çš„ç©ºé—´, å› æ­¤è¯¥ç‰¹æ€§éœ€è¦å‡½æ•°ç­¾åä¹Ÿé…åˆæ›´æ”¹<br><br>æˆ–è®¸åƒè¿™æ ·:<br></p>
      <pre class="group relative mx-2 sm:mx-6 my-4 border-2 border-slate-500 leading-[1.2em]"><script>
        function copy_code(button) {
          const code = button.parentElement.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(() => {
            button.textContent = 'å¥½å•¦';
            setTimeout(() => button.textContent = 'å¤åˆ¶', 2000);
          });
        }
        function fold_code(button) {
          const code = button.parentElement.querySelector('code');
          const next_fold_state = button.textContent
          if (next_fold_state == 'æŠ˜å ') {
            if (!code.hasAttribute('data-original')) {
              code.setAttribute('data-original', code.innerHTML)
            }
            const lines = code.innerHTML.split('\n')
            const firstLine = lines[0]
            code.innerHTML = firstLine
            // code.style.display = 'none'
            button.textContent = 'å±•å¼€'
          } else {
            const lines = code.getAttribute('data-original')
            // code.style.display = 'block'
            code.innerHTML = lines
            button.textContent = 'æŠ˜å '
          }
        }
      </script><p><code class=" language-rust text-sm sm:text-base">pub placing fn new_file(filename: &amp;str) -> Writer {
    super let mut file = File::create(filename).unwrap(); // Placed into caller's stack frame
    Writer::new(&amp;file) // So we can borrow it in the return value!
}</code></p><button class="absolute top-2 right-2 hidden group-hover:inline text-xl" onclick="copy_code(this)">å¤åˆ¶</button><button class="absolute top-2 right-16 hidden group-hover:inline text-xl" onclick="fold_code(this)">æŠ˜å </button></pre>
      <p>è¿™è™½ç„¶ä¸åœ¨æˆ‘å½“å‰æè®®çš„èŒƒç•´å†…, ä½†æƒ³è±¡ä¸€ä¸‹æ€»å½’æ˜¯è›®æœ‰è¶£çš„ :)<br></p>
      <hr class="border-2 border-dashed my-10">
      <h1 class="flex items-center w-fit my-6" id="2024-rfc"><span class="text-2xl mr-2 text-cyan-500">ğŸ”—</span> <a class="text-4xl hover:underline underline-offset-8" href="#2024-rfc">2024-RFC</a></h1>
      <p>å‡ ä¸ªæœˆå‰, æˆ‘æ›¾ä¸ <a class="underline underline-offset-5 font-medium" href="https://github.com/nikomatsakis">Niko Matsakis</a>, <a class="underline underline-offset-5 font-medium" href="https://github.com/dingxiangfei2009">ä¸å‘é£</a> åˆ†äº«è¿‡å…³äº <code class="font-semibold text-[#aa8bd5]"><code>super-let</code></code> çš„æ„æƒ³, ä»–ä»¬å¯¹äºè¿™ç§ â€œè„±ç³–â€ ä¸´æ—¶å€¼ç”Ÿå‘½å‘¨æœŸæ‰©å±•çš„æ–¹æ³•æ„Ÿåˆ°å…´å¥‹<br>ç›®å‰, ä»–ä»¬æ­£æŠ•å…¥åˆ°åˆ¶å®š <code class="font-semibold text-[#aa8bd5]"><code>super-let</code></code> çš„ç²¾ç¡®å®šä¹‰å’Œè¯¦ç»†è§„åˆ™çš„å…¨åŠ›å·¥ä½œä¸­, åŒæ—¶ä¸ºä¸‹ä¸€ç‰ˆ rust è®¾è®¡è‹¥å¹²å…³äºä¸´æ—¶å€¼åœ¨ç”Ÿå‘½å‘¨æœŸæ–¹é¢çš„æ–°è§„åˆ™<br><br>è¿™é¡¹æ•´åˆæ€§çš„ <a class="underline underline-offset-5 font-medium" href="https://rust-lang.zulipchat.com/#narrow/stream/403629-t-lang.2Ftemporary-lifetimes-2024">â€œtemporary lifetimes 2024â€ effort</a> æ­£åœ¨é€æ­¥å½¢æˆä¸€ä»½ RFC ææ¡ˆ<br>å…¶æ ¸å¿ƒå»ºè®®æ˜¯å°½å¯èƒ½ç¼©çŸ­ä¸´æ—¶å€¼çš„ç”Ÿå‘½å‘¨æœŸ, é˜²æ­¢ <code class="font-semibold text-[#aa8bd5]"><code>if-let</code></code>/<code class="font-semibold text-[#aa8bd5]"><code>match</code></code> ä¸­å›  <code class="font-semibold text-[#aa8bd5]"><code>MutexGuard</code></code> ç±»å‹çš„ä¸´æ—¶å€¼è€Œå¯¼è‡´æ­»é”, åŒæ—¶å¼•å…¥ <code class="font-semibold text-[#aa8bd5]"><code>super-let</code></code> ä½œä¸ºå»¶é•¿æœºåˆ¶<br></p>
      <hr class="border-2 border-dashed my-10">
      <h1 class="flex items-center w-fit my-6" id="fan-kui"><span class="text-2xl mr-2 text-cyan-500">ğŸ”—</span> <a class="text-4xl hover:underline underline-offset-8" href="#fan-kui">åé¦ˆ</a></h1>
      <p>ä½ æ˜¯å¦æ›¾ä¸»åŠ¨è¿ç”¨è¿‡æœ¬æ–‡ä»‹ç»çš„å»¶é•¿è§„åˆ™? å®ƒæ˜¯å¦æ›¾ç»å›°æ‰°è¿‡ä½ ?<br>å¯¹äº <code class="font-semibold text-[#aa8bd5]"><code>super-let</code></code> æœ‰ä½•çœ‹æ³•? ä¼šè€ƒè™‘ä½¿ç”¨å—? æˆ–è€…æœ‰æ›´ä¼˜çš„è§£å†³æ–¹æ¡ˆ?<br>æ¬¢è¿åœ¨ gitHub ä¸Šåˆ†äº«è§è§£, ä¹Ÿå¯åŠ å…¥ reddit, twitter, mastodon ç­‰å¹³å°è¿›è¡Œè®¨è®º!<br></p>
    </div>
  </body>
</html>
